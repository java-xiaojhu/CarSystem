<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>

	</head>

	<body>
		<div class="rolelimits" style="margin: 0px 50px;">
			<el-table :data="tableData" border stripe style="width: 100%">
				<el-table-column prop="date" label="日期" width="180">
				</el-table-column>
				<el-table-column prop="name" label="姓名" width="180">
				</el-table-column>
				<el-table-column prop="address" label="地址">
				</el-table-column>
				<el-table-column label="操作">
					<template slot-scope="temp">
						<el-button type="success" size="mini" @click="rolelimit(temp.row)">设置</el-button>
					</template>
				</el-table-column>
			</el-table>
			<el-dialog @opened="handlerOpen" ref="modifdialog" title="功能权限菜单" :visible.sync="isShow2" width="70%" :before-close="handleClose2" center>
				<div id="cnt">修改商品页</div>
				<span slot="footer" class="dialog-footer">
	    			<el-button @click="canceloff" size="mini">取 消</el-button>
	    			<el-button type="primary" @click="makeSure" size="mini">确 定</el-button>
  				</span>
			</el-dialog>
		</div>
	</body>
	<script>
		var rolelimits = new Vue({
			data: {
				tableData: [],
				isShow2: false,
			},
			methods: {
				handleClose2(done) {
					this.$confirm('确认关闭？')
						.then(_ => {
							done();
						})
						.catch(_ => {});
				},
				handlerOpen() {
					$("#cnt").load("lyh/Meuns.html"); //ajax读取页面
				},
				rolelimit(role) {
					console.log(role);
					let _this = this;
					_this.isShow2 = true;
				},
				makeSure() {
					let _this = this;
					this.$confirm('确定设置吗？')
						.then(_ => {
							_this.isShow2 = false;
						})
						.catch(_ => {});
				},
				canceloff() {
					let _this = this;
					this.$confirm('确认关闭？')
						.then(_ => {
							_this.isShow2 = false;
						})
						.catch(_ => {});
				},

			},
			mounted() {
				let _this = this;
				$.getJSON(`http://127.0.0.1:8080/lyh/Roles`, (data) => {
					_this.tableData = data;
				});
			}
		}).$mount(".rolelimits")
	</script>

</html>